<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.1" xmlns:xmi="http://schema.omg.org/spec/XMI/2.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:CDA="http://www.openhealthtools.org/mdht/schemas/cda/4" xmlns:Ecore="http://www.eclipse.org/uml2/schemas/Ecore/5" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/3.0.0/UML" xsi:schemaLocation="http://www.eclipse.org/uml2/schemas/Ecore/5 pathmap://UML_PROFILES/Ecore.profile.uml#_z1OFcHjqEdy8S4Cr8Rc_NA">
  <uml:Package xmi:id="_0j1PQEavEeGFfbgNCOW4yA" name="mtm">
    <packageImport xmi:id="_0qiUMEavEeGFfbgNCOW4yA">
      <importedPackage href="../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_ii81kjxVEd6JwqSGecoePg"/>
    </packageImport>
    <packageImport xmi:id="_0qiUMUavEeGFfbgNCOW4yA">
      <importedPackage href="../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_XgMSwzxVEd6JwqSGecoePg"/>
    </packageImport>
    <packageImport xmi:id="_0qiUMkavEeGFfbgNCOW4yA">
      <importedPackage href="../../org.openhealthtools.mdht.uml.cda.mtm.model/model/mtm-vocab.uml#_0kR7MEavEeGFfbgNCOW4yA"/>
    </packageImport>
    <packageImport xmi:id="_HUBs8EayEeGFfbgNCOW4yA">
      <importedPackage href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2B30sBSVEeGGzu7fmW9pXw"/>
    </packageImport>
    <packagedElement xmi:type="uml:Class" xmi:id="_0naHsUavEeGFfbgNCOW4yA" name="MedicationTherapyManagementProgram">
      <ownedComment xmi:id="_GDVfILSlEeG0-4dzGPBnrw">
        <body>Medication Therapy Management Services (MTM) refers to a distinct service or group of services provided to assess and improve medication use with the goal of optimizing the patient&amp;apos;s therapeutic outcome by improving medication use.  Key components of these services are the comprehensive medication review (CMR) and condition or drug specific targeted medication reviews (TMRs). CMR is an interactive, person-to-person or telehealth medication review and consultation of a beneficiary's medications (including prescriptions, over-the-counter (OTC) medications, herbal therapies, and dietary supplements) by a pharmacist or qualified provider that is intended to aid in assessing medication therapy and optimizing patient outcomes.     &#xD;
&#xD;
This CDA implementation addresses the communication of this review and the activities the patient must complete for compliance and enhanced outcomes. These services also include services such as medication reconciliation on admission and/or discharge from a facility, assistance in planning medication schedules when several drugs must be coordinated, counseling regarding dietary requirements or restrictions to ensure the therapeutic effect of the medication and recommendations for alternative therapies. This CDA is designed to meet the requirements of the Medicare Part D Medication Therapy management (MTM) Program Standard Format. See: &lt;xref href=&quot;www.ncpdp.orghttp://www.cms.gov/Medicare/Prescription-Drug-Coverage/PrescriptionDrugCovContra/MTM.html&quot;>www.ncpdp.orghttp://www.cms.gov/Medicare/Prescription-Drug-Coverage/PrescriptionDrugCovContra/MTM.html&lt;/xref> for the detailed requirements.</body>
      </ownedComment>
      <ownedRule xmi:id="_BIyMMNDqEeGDO5enlLFiYg" name="GeneralHeaderConstraintsTemplateId" constrainedElement="_0naHsUavEeGFfbgNCOW4yA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BIyMMdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.templateId->exists(id : datatypes::II | id.root = '111.222.333.444.111')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BI0ocNDqEeGDO5enlLFiYg" name="MedicationTherapyManagementProgramAllergiesSection" constrainedElement="_0naHsUavEeGFfbgNCOW4yA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BI0ocdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.getAllSections()->one(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(consol::AllergiesSectionEntriesOptional))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BI2do9DqEeGDO5enlLFiYg" name="MedicationTherapyManagementProgramPersonalMedicationListSection" constrainedElement="_0naHsUavEeGFfbgNCOW4yA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BI3EsNDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.getAllSections()->one(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(mtm::PersonalMedicationListSection))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJgk8NDqEeGDO5enlLFiYg" name="MedicationTherapyManagementProgramOtherInformationSection" constrainedElement="_0naHsUavEeGFfbgNCOW4yA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJgk8dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.getAllSections()->one(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(mtm::OtherInformationSection))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJ4_cNDqEeGDO5enlLFiYg" name="MedicationTherapyManagementProgramMedicationActionPlan" constrainedElement="_0naHsUavEeGFfbgNCOW4yA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJ4_cdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.getAllSections()->one(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(mtm::MedicationActionPlanSection))</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_15elkEwrEeGrDvEN9YqHUQ">
        <ownedComment xmi:id="_4x_ZELe-EeG0Dux7Xv_CnQ">
          <body>MAP 3</body>
        </ownedComment>
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2DNRcBSVEeGGzu7fmW9pXw"/>
      </generalization>
      <ownedOperation xmi:id="_BI12kNDqEeGDO5enlLFiYg" name="getAllergiesSection" isQuery="true" bodyCondition="_BI2dodDqEeGDO5enlLFiYg">
        <ownedRule xmi:id="_BI2dodDqEeGDO5enlLFiYg" name="body" constrainedElement="_BI12kNDqEeGDO5enlLFiYg">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_BI2dotDqEeGDO5enlLFiYg">
            <language>OCL</language>
            <body>self.getAllSections()->select(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(consol::AllergiesSectionEntriesOptional))->asSequence()->any(true).oclAsType(consol::AllergiesSectionEntriesOptional)</body>
          </specification>
        </ownedRule>
        <ownedParameter xmi:id="_BI12kdDqEeGDO5enlLFiYg" direction="return">
          <type xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_bGzYgBVdEeGQCvUGzi1kDQ"/>
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BI2doNDqEeGDO5enlLFiYg" value="1"/>
        </ownedParameter>
      </ownedOperation>
      <ownedOperation xmi:id="_BI3rwNDqEeGDO5enlLFiYg" name="getPersonalMedicationListSection" isQuery="true" bodyCondition="_BI4S0NDqEeGDO5enlLFiYg">
        <ownedRule xmi:id="_BI4S0NDqEeGDO5enlLFiYg" name="body" constrainedElement="_BI3rwNDqEeGDO5enlLFiYg">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_BI4S0dDqEeGDO5enlLFiYg">
            <language>OCL</language>
            <body>self.getAllSections()->select(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(mtm::PersonalMedicationListSection))->asSequence()->any(true).oclAsType(mtm::PersonalMedicationListSection)</body>
          </specification>
        </ownedRule>
        <ownedParameter xmi:id="_BI3rwdDqEeGDO5enlLFiYg" type="_AyXL8EwyEeGrDvEN9YqHUQ" direction="return">
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BI3rwtDqEeGDO5enlLFiYg" value="1"/>
        </ownedParameter>
      </ownedOperation>
      <ownedOperation xmi:id="_BJhzENDqEeGDO5enlLFiYg" name="getOtherInformationSection" isQuery="true" bodyCondition="_BJiaItDqEeGDO5enlLFiYg">
        <ownedRule xmi:id="_BJiaItDqEeGDO5enlLFiYg" name="body" constrainedElement="_BJhzENDqEeGDO5enlLFiYg">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJiaI9DqEeGDO5enlLFiYg">
            <language>OCL</language>
            <body>self.getAllSections()->select(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(mtm::OtherInformationSection))->asSequence()->any(true).oclAsType(mtm::OtherInformationSection)</body>
          </specification>
        </ownedRule>
        <ownedParameter xmi:id="_BJiaINDqEeGDO5enlLFiYg" type="_8lBioExOEeG1J9FcQHBzxA" direction="return">
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BJiaIdDqEeGDO5enlLFiYg" value="1"/>
        </ownedParameter>
      </ownedOperation>
      <ownedOperation xmi:id="_BJ6NkNDqEeGDO5enlLFiYg" name="getMedicationActionPlan" isQuery="true" bodyCondition="_BJ6Nk9DqEeGDO5enlLFiYg">
        <ownedRule xmi:id="_BJ6Nk9DqEeGDO5enlLFiYg" name="body" constrainedElement="_BJ6NkNDqEeGDO5enlLFiYg">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJ6NlNDqEeGDO5enlLFiYg">
            <language>OCL</language>
            <body>self.getAllSections()->select(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(mtm::MedicationActionPlanSection))->asSequence()->any(true).oclAsType(mtm::MedicationActionPlanSection)</body>
          </specification>
        </ownedRule>
        <ownedParameter xmi:id="_BJ6NkdDqEeGDO5enlLFiYg" type="_YxKzkKmqEeGfEcsleERUhA" direction="return">
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BJ6NktDqEeGDO5enlLFiYg" value="1"/>
        </ownedParameter>
      </ownedOperation>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_yhegQEwxEeGrDvEN9YqHUQ" name="MedicationActivity">
      <ownedComment xmi:id="_By5V8LSrEeG0-4dzGPBnrw">
        <body>MTM medication activity describes the medications taken or intended to be taken including the delivery when started or scheduled to start, when to discontinue (if applicable), method, the sig, frequency, route, site, dose, amount, patient instructions, etc.</body>
      </ownedComment>
      <ownedRule xmi:id="_BI454NDqEeGDO5enlLFiYg" name="mtmMedicationActivityTemplateId" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BI454dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.templateId->exists(id : datatypes::II | id.root = '111.222.333.444.222')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BI79MNDqEeGDO5enlLFiYg" name="mtmMedicationActivityText" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BI79MdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.text.oclIsUndefined() or self.text.isNullFlavorUndefined()) implies (not self.text.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJZQMNDqEeGDO5enlLFiYg" name="mtmMedicationActivityPresciber" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJZQMdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.author->one(author : cda::Author | not author.oclIsUndefined() and author.oclIsKindOf(cda::Author))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKbK8NDqEeGDO5enlLFiYg" name="mtmMedicationActivityIndicationEntryRelationship" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKbK8dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->one(entryRelationship : cda::EntryRelationship | not entryRelationship.oclIsUndefined() and entryRelationship.oclIsKindOf(cda::EntryRelationship))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKeOQNDqEeGDO5enlLFiYg" name="mtmMedicationActivityStopReasonEntryRelationship" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKeOQdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->one(entryRelationship : cda::EntryRelationship | not entryRelationship.oclIsUndefined() and entryRelationship.oclIsKindOf(cda::EntryRelationship))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKgDcNDqEeGDO5enlLFiYg" name="mtmMedicationActivityReminderEntryRelationship" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKgDcdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->one(entryRelationship : cda::EntryRelationship | not entryRelationship.oclIsUndefined() and entryRelationship.oclIsKindOf(cda::EntryRelationship))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKifsNDqEeGDO5enlLFiYg" name="mtmMedicationActivityInstructionsEntryRelationship" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKifsdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->one(entryRelationship : cda::EntryRelationship | not entryRelationship.oclIsUndefined() and entryRelationship.oclIsKindOf(cda::EntryRelationship))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKk78NDqEeGDO5enlLFiYg" name="mtmMedicationActivityGoalsEntryRelationship" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKk78dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->exists(entryRelationship : cda::EntryRelationship | not entryRelationship.oclIsUndefined() and entryRelationship.oclIsKindOf(cda::EntryRelationship))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK4d8NDqEeGDO5enlLFiYg" name="MedicationActivityPrescriberAssignedPresciberPersonName" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK4d8dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.author->excluding(null).assignedAuthor->excluding(null).assignedPerson->excluding(null)->reject((name->isEmpty() or name->exists(element | element.isNullFlavorUndefined())) implies (name->size() = 1))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK4d8tDqEeGDO5enlLFiYg" name="MedicationActivityPrescriberAssignedPresciberAssignedPerson" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK4d89DqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.author->excluding(null).assignedAuthor->excluding(null)->reject(assignedPerson->one(assignedPerson : cda::Person | not assignedPerson.oclIsUndefined() and assignedPerson.oclIsKindOf(cda::Person)))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK5FANDqEeGDO5enlLFiYg" name="MedicationActivityPrescriberTemplateId" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK5FAdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.author->excluding(null)->reject(templateId->exists(id : datatypes::II | id.root = 'null'))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK5sENDqEeGDO5enlLFiYg" name="MedicationActivityPrescriberTypeCode" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK5sEdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.author->excluding(null)->reject(isDefined('typeCode') and typeCode=vocab::ParticipationType::AUT)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK6TINDqEeGDO5enlLFiYg" name="MedicationActivityPrescriberAssignedAuthor" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK6TIdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.author->excluding(null)->reject(assignedAuthor->one(assignedAuthor : cda::AssignedAuthor | not assignedAuthor.oclIsUndefined() and assignedAuthor.oclIsKindOf(cda::AssignedAuthor)))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK8IUNDqEeGDO5enlLFiYg" name="MedicationActivityIndicationEntryRelationshipTypeCode" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK8IUdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null)->reject(isDefined('typeCode'))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK8vYNDqEeGDO5enlLFiYg" name="MedicationActivityIndicationEntryRelationshipIndication" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK8vYdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null)->reject(observation->one(observation : cda::Observation | not observation.oclIsUndefined() and observation.oclIsKindOf(consol::Indication)))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK_LoNDqEeGDO5enlLFiYg" name="MedicationActivityStopReasonEntryRelationshipStopReasonClassCode" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK_LodDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null).act->excluding(null)->reject(isDefined('classCode'))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BK_ysNDqEeGDO5enlLFiYg" name="MedicationActivityStopReasonEntryRelationshipStopReasonNegationInd" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BK_ysdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null).act->excluding(null)->reject(negationInd=true)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BLAZwNDqEeGDO5enlLFiYg" name="MedicationActivityStopReasonEntryRelationshipTypeCode" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BLAZwdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null)->reject(isDefined('typeCode'))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BLCO8NDqEeGDO5enlLFiYg" name="MedicationActivityReminderEntryRelationshipTypeCode" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BLCO8dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null)->reject(typeCode=vocab::x_ActRelationshipEntryRelationship::SPRT)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BLC2ANDqEeGDO5enlLFiYg" name="MedicationActivityReminderEntryRelationshipReminder" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BLC2AdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null)->reject(act->one(act : cda::Act | not act.oclIsUndefined() and act.oclIsKindOf(mtm::Reminder)))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BLEEINDqEeGDO5enlLFiYg" name="MedicationActivityInstructionEntryRelationshipTypeCode" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BLEEIdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null)->reject(isDefined('typeCode'))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BLErMNDqEeGDO5enlLFiYg" name="MedicationActivityInstructionEntryRelationshipInstructions" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BLErMdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null)->reject(act->one(act : cda::Act | not act.oclIsUndefined() and act.oclIsKindOf(mtm::Instructions)))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BLGgYNDqEeGDO5enlLFiYg" name="MedicationActivityGoalsEntryRelationshipMedicationActionPlanGoal" constrainedElement="_yhegQEwxEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BLGgYdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->excluding(null)->reject(observation->one(observation : cda::Observation | not observation.oclIsUndefined() and observation.oclIsKindOf(mtm::MedicationActionPlanGoal)))</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_yhfHUEwxEeGrDvEN9YqHUQ">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2GHbgBSVEeGGzu7fmW9pXw"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_AyXL8EwyEeGrDvEN9YqHUQ" name="PersonalMedicationListSection">
      <ownedComment xmi:id="_ClPY4LSrEeG0-4dzGPBnrw">
        <body>The Personal Medication List (PML) is a reconciled list of all the medications in use (i.e., active medications) by the beneficiary at the time of a CMR. Information for this section may be pre-populated by the Part D plan and must be completed and updated with information provided by the beneficiary and/or caregiver during the consultation. Part D plans must also collect and report the purpose and instructions for the beneficiary's use of his/her medications. The use of over-the-counter medications is important for drug utilization review and should be captured during the interactive CMR and reported in the PML by the Part D plan.&#xD;
&#xD;
The PML is intended to help beneficiaries understand their medications and how they relate to their treatment plans; to engage beneficiaries in the management of their drug therapy; and to improve both communication about medications and tracking of all medications, including self-prescribed medicines, with their healthcare providers. The PML assists the beneficiary with managing his/her medications by allowing the beneficiary to add new medications and their start dates, redacting discontinued products, and indicating the stop dates and reasons for stopping.&#xD;
The PML is not considered marketing material and should not include any marketing messages, marketing disclaimers, or other sales information.&#xD;
&#xD;
The PML is not a wallet card. Some MTM programs may also provide supplemental wallet cards, such as the one prepared by AHRQ: http://www.ahrq.gov/consumer/safemeds/walletform.pdf.&#xD;
&#xD;
Order of medications: MTM programs may select the sort order for the medications to be listed, such as alphabetically, by purpose, by prescriber, or by product type (e.g., prescription, OTC, vitamin, herbal supplement).</body>
      </ownedComment>
      <ownedRule xmi:id="_BJUXsdDqEeGDO5enlLFiYg" name="MedicationsSectionEntriesOptionalTemplateId" constrainedElement="_AyXL8EwyEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJUXstDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.templateId->exists(id : datatypes::II | id.root = '111.222.333.444.333')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJWz8NDqEeGDO5enlLFiYg" name="PersonalMedicationListSectionMedication" constrainedElement="_AyXL8EwyEeGrDvEN9YqHUQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJWz8dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entry->exists(entry : cda::Entry | not entry.substanceAdministration.oclIsUndefined() and entry.substanceAdministration.oclIsKindOf(mtm::MedicationActivity))</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_AyXzAEwyEeGrDvEN9YqHUQ">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2NIpgBSVEeGGzu7fmW9pXw"/>
      </generalization>
      <ownedOperation xmi:id="_BJYCENDqEeGDO5enlLFiYg" name="getmtmMedications" isQuery="true" bodyCondition="_BJYCE9DqEeGDO5enlLFiYg">
        <ownedRule xmi:id="_BJYCE9DqEeGDO5enlLFiYg" name="body" constrainedElement="_BJYCENDqEeGDO5enlLFiYg">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJYpINDqEeGDO5enlLFiYg">
            <language>OCL</language>
            <body>self.getSubstanceAdministrations()->select(substanceAdministration : cda::SubstanceAdministration | not substanceAdministration.oclIsUndefined() and substanceAdministration.oclIsKindOf(mtm::MedicationActivity)).oclAsType(mtm::MedicationActivity)</body>
          </specification>
        </ownedRule>
        <ownedParameter xmi:id="_BJYCEdDqEeGDO5enlLFiYg" type="_yhegQEwxEeGrDvEN9YqHUQ" direction="return">
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BJYCEtDqEeGDO5enlLFiYg" value="*"/>
        </ownedParameter>
      </ownedOperation>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_8lBioExOEeG1J9FcQHBzxA" name="OtherInformationSection">
      <ownedComment xmi:id="_DkHb8LSrEeG0-4dzGPBnrw">
        <body>The section is used to convey information that might support the patient's compliance with the action plan and medication list, but not explicitly included, e.g., condition lists, primary provider information, primary pharmacy information and emergency contact information.&#xD;
&#xD;
PML-10:</body>
      </ownedComment>
      <ownedRule xmi:id="_BJaeUNDqEeGDO5enlLFiYg" name="OtherInformationSectionTemplateId" constrainedElement="_8lBioExOEeG1J9FcQHBzxA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJaeUdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.templateId->exists(id : datatypes::II | id.root = '111.222.333.444.444')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJcTgNDqEeGDO5enlLFiYg" name="OtherInformationSectionText" constrainedElement="_8lBioExOEeG1J9FcQHBzxA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJc6kNDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>not self.text.oclIsUndefined()</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJevwNDqEeGDO5enlLFiYg" name="OtherInformationSectionTitle" constrainedElement="_8lBioExOEeG1J9FcQHBzxA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJevwdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.title.oclIsUndefined() or self.title.isNullFlavorUndefined()) implies (not self.title.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_8lBioUxOEeG1J9FcQHBzxA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_qIf_wDxXEd6JwqSGecoePg"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_YxKzkKmqEeGfEcsleERUhA" name="MedicationActionPlanSection">
      <ownedComment xmi:id="_-0ww4LSqEeG0-4dzGPBnrw">
        <body>The Medication Action Plan provides the patient with documentation of the steps that they need to follow to maximize the benefits of their medication therapy. These are steps discussed during the medication review or follow-up encounter and are designed to help the patient understand and remember the needed activities, e.g., frequency and or timing of blood sugar checks or recognition of and response to a threatening change in the level. The action plan is prioritized by the provider based on the patient's concerns, the therapeutic need, and the patient's ability to understand and complete the recommended activities. It also provides a means for the patient to record their actions and thereby serves as a basis for ongoing interaction with both the MTM provider and other involved practitioners.</body>
      </ownedComment>
      <ownedRule xmi:id="_BJjBMdDqEeGDO5enlLFiYg" name="PlanOfCareSectionTemplateId" constrainedElement="_YxKzkKmqEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJjBMtDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.templateId->exists(id : datatypes::II | id.root = '111.222.333.444.555')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJldcNDqEeGDO5enlLFiYg" name="MedicationActionPlanSectionTitle" constrainedElement="_YxKzkKmqEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJldcdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.title.oclIsUndefined() or self.title.isNullFlavorUndefined()) implies (not self.title.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKHo8NDqEeGDO5enlLFiYg" name="MedicationActionPlanSectionMedicationActionPlanEncounter" constrainedElement="_YxKzkKmqEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKHo8dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entry->exists(entry : cda::Entry | not entry.encounter.oclIsUndefined() and entry.encounter.oclIsKindOf(mtm::MedicationActionPlanEncounter))</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_YxLaoKmqEeGfEcsleERUhA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2NP-QxSVEeGGzu7fmW9pXw"/>
      </generalization>
      <ownedOperation xmi:id="_BKI3ENDqEeGDO5enlLFiYg" name="getMedicationActionPlanEncounters" isQuery="true" bodyCondition="_BKI3E9DqEeGDO5enlLFiYg">
        <ownedRule xmi:id="_BKI3E9DqEeGDO5enlLFiYg" name="body" constrainedElement="_BKI3ENDqEeGDO5enlLFiYg">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKI3FNDqEeGDO5enlLFiYg">
            <language>OCL</language>
            <body>self.getEncounters()->select(encounter : cda::Encounter | not encounter.oclIsUndefined() and encounter.oclIsKindOf(mtm::MedicationActionPlanEncounter)).oclAsType(mtm::MedicationActionPlanEncounter)</body>
          </specification>
        </ownedRule>
        <ownedParameter xmi:id="_BKI3EdDqEeGDO5enlLFiYg" type="_0AARgKmsEeGfEcsleERUhA" direction="return">
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BKI3EtDqEeGDO5enlLFiYg" value="*"/>
        </ownedParameter>
      </ownedOperation>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_dcDOUKmqEeGfEcsleERUhA" name="MedicationActionPlanActivity">
      <ownedComment xmi:id="_-LpicLSqEeG0-4dzGPBnrw">
        <body>The medication action plan activity describes the specific action that the patient is to take or has taken.&#xD;
&#xD;
MAP 6</body>
      </ownedComment>
      <ownedRule xmi:id="_BJnSoNDqEeGDO5enlLFiYg" name="PlanOfCareActivityActTemplateId" constrainedElement="_dcDOUKmqEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJnSodDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.templateId->exists(id : datatypes::II | id.root = '111.222.333.444.666')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJq9ANDqEeGDO5enlLFiYg" name="PlanOfCareActivityActMoodCode" constrainedElement="_dcDOUKmqEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJq9AdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>not self.moodCode.oclIsUndefined() and self.moodCode.oclIsKindOf(vocab::x_DocumentActMood)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJvOcNDqEeGDO5enlLFiYg" name="MedicationActionPlanActivityText" constrainedElement="_dcDOUKmqEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJvOcdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.text.oclIsUndefined() or self.text.isNullFlavorUndefined()) implies (not self.text.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJ18INDqEeGDO5enlLFiYg" name="MedicationActionPlanActivityCodeP" constrainedElement="_dcDOUKmqEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJ18IdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.code.oclIsUndefined() or self.code.isNullFlavorUndefined()) implies (not self.code.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJyRwNDqEeGDO5enlLFiYg" name="MedicationActionPlanActivityCode" constrainedElement="_dcDOUKmqEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJyRwdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.code.oclIsUndefined() or self.code.isNullFlavorUndefined()) implies (not self.code.oclIsUndefined() and self.code.oclIsKindOf(datatypes::CD) and &#xD;&#xA;let value : datatypes::CD = self.code.oclAsType(datatypes::CD) in &#xD;&#xA;value.codeSystem = '2.16.840.1.113883.6.96')</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_dcD1YKmqEeGfEcsleERUhA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2NWE5xSVEeGGzu7fmW9pXw"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_0AARgKmsEeGfEcsleERUhA" name="MedicationActionPlanEncounter">
      <ownedComment xmi:id="_V756ULSlEeG0-4dzGPBnrw">
        <body>This provides the context (type of encounter, date, place, condition, participants, etc.) of the patient – provider interaction, i.e., medication review, that yielded the medication action plan or the review of the patient's reported follow-up to the action plan. &#xD;
MAP 6</body>
      </ownedComment>
      <ownedRule xmi:id="_BJ60oNDqEeGDO5enlLFiYg" name="MedicationActionPlanEncounterEffectiveTime" constrainedElement="_0AARgKmsEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJ60odDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.effectiveTime.oclIsUndefined() or self.effectiveTime.isNullFlavorUndefined()) implies (not self.effectiveTime.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJ9Q4NDqEeGDO5enlLFiYg" name="MedicationActionPlanEncounterText" constrainedElement="_0AARgKmsEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJ9Q4dDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.text.oclIsUndefined() or self.text.isNullFlavorUndefined()) implies (not self.text.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BJ_tINDqEeGDO5enlLFiYg" name="MedicationActionPlanEncounterCode" constrainedElement="_0AARgKmsEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BJ_tIdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.code.oclIsUndefined() or self.code.isNullFlavorUndefined()) implies (not self.code.oclIsUndefined() and self.code.oclIsKindOf(datatypes::CD) and &#xD;&#xA;let value : datatypes::CD = self.code.oclAsType(datatypes::CD) in &#xD;&#xA;value.codeSystem = '2.16.840.1.113883.6.96')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKDXgNDqEeGDO5enlLFiYg" name="MedicationActionPlanEncounterCodeP" constrainedElement="_0AARgKmsEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKDXgdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.code.oclIsUndefined() or self.code.isNullFlavorUndefined()) implies (not self.code.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKFzwNDqEeGDO5enlLFiYg" name="MedicationActionPlanEncounterMedicationActionPlanActivity" constrainedElement="_0AARgKmsEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKFzwdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->exists(entryRelationship : cda::EntryRelationship | not entryRelationship.act.oclIsUndefined() and entryRelationship.act.oclIsKindOf(mtm::MedicationActionPlanActivity))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKn_QNDqEeGDO5enlLFiYg" name="MedicationActionPlanEncounterMedicationActionPlanObservation" constrainedElement="_0AARgKmsEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKn_QdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.entryRelationship->one(entryRelationship : cda::EntryRelationship | not entryRelationship.observation.oclIsUndefined() and entryRelationship.observation.oclIsKindOf(mtm::MedicationActionPlanObservation))</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_0AA4kKmsEeGfEcsleERUhA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2NWFBBSVEeGGzu7fmW9pXw"/>
      </generalization>
      <ownedOperation xmi:id="_BKHB4NDqEeGDO5enlLFiYg" name="getMedicationActionPlanActivities" isQuery="true" bodyCondition="_BKHB49DqEeGDO5enlLFiYg">
        <ownedRule xmi:id="_BKHB49DqEeGDO5enlLFiYg" name="body" constrainedElement="_BKHB4NDqEeGDO5enlLFiYg">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKHB5NDqEeGDO5enlLFiYg">
            <language>OCL</language>
            <body>self.getActs()->select(act : cda::Act | not act.oclIsUndefined() and act.oclIsKindOf(mtm::MedicationActionPlanActivity)).oclAsType(mtm::MedicationActionPlanActivity)</body>
          </specification>
        </ownedRule>
        <ownedParameter xmi:id="_BKHB4dDqEeGDO5enlLFiYg" type="_dcDOUKmqEeGfEcsleERUhA" direction="return">
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BKHB4tDqEeGDO5enlLFiYg" value="*"/>
        </ownedParameter>
      </ownedOperation>
      <ownedOperation xmi:id="_BKpNYNDqEeGDO5enlLFiYg" name="getMedicationActionPlanObservation" isQuery="true" bodyCondition="_BKpNY9DqEeGDO5enlLFiYg">
        <ownedRule xmi:id="_BKpNY9DqEeGDO5enlLFiYg" name="body" constrainedElement="_BKpNYNDqEeGDO5enlLFiYg">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKpNZNDqEeGDO5enlLFiYg">
            <language>OCL</language>
            <body>self.getObservations()->select(observation : cda::Observation | not observation.oclIsUndefined() and observation.oclIsKindOf(mtm::MedicationActionPlanObservation))->asSequence()->any(true).oclAsType(mtm::MedicationActionPlanObservation)</body>
          </specification>
        </ownedRule>
        <ownedParameter xmi:id="_BKpNYdDqEeGDO5enlLFiYg" type="_63TrEKmtEeGfEcsleERUhA" direction="return">
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_BKpNYtDqEeGDO5enlLFiYg" value="1"/>
        </ownedParameter>
      </ownedOperation>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_63TrEKmtEeGfEcsleERUhA" name="MedicationActionPlanObservation">
      <ownedComment xmi:id="_yQCkgLlqEeGSOIIUThrvRA">
        <body>This defines the issues that were discussed between the MTM provider and the patient/caregiver</body>
      </ownedComment>
      <ownedRule xmi:id="_BKKFMNDqEeGDO5enlLFiYg" name="MedicationActionPlanObservationText" constrainedElement="_63TrEKmtEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKKFMdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.text.oclIsUndefined() or self.text.isNullFlavorUndefined()) implies (not self.text.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKL6YNDqEeGDO5enlLFiYg" name="MedicationActionPlanObservationEffectiveTime" constrainedElement="_63TrEKmtEeGfEcsleERUhA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKL6YdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.effectiveTime.oclIsUndefined() or self.effectiveTime.isNullFlavorUndefined()) implies (not self.effectiveTime.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_63TrEamtEeGfEcsleERUhA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2NcLjhSVEeGGzu7fmW9pXw"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_pQo5MLb8EeGErMgL9zVrTA" name="MedicationActionPlanGoal">
      <ownedRule xmi:id="_BKO9sNDqEeGDO5enlLFiYg" name="PlanOfCareActivityObservationMoodCode" constrainedElement="_pQo5MLb8EeGErMgL9zVrTA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKO9sdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>not self.moodCode.oclIsUndefined() and self.moodCode.oclIsKindOf(vocab::x_ActMoodDocumentObservation)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKTPINDqEeGDO5enlLFiYg" name="MedicationActionPlanGoalMoodCode" constrainedElement="_pQo5MLb8EeGErMgL9zVrTA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKTPIdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.moodCode=vocab::x_ActMoodDocumentObservation::GOL</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKXgkNDqEeGDO5enlLFiYg" name="MedicationActionPlanGoalText" constrainedElement="_pQo5MLb8EeGErMgL9zVrTA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKXgkdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.text.oclIsUndefined() or self.text.isNullFlavorUndefined()) implies (not self.text.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_pQpgQLb8EeGErMgL9zVrTA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2NcLjhSVEeGGzu7fmW9pXw"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_8HjgULe2EeGy6IHu0WFTyQ" name="Reminder">
      <ownedComment xmi:id="_A4sEYLl1EeG9KtLyBDnukg">
        <body>Documents a reminder for the medication activity</body>
      </ownedComment>
      <ownedRule xmi:id="_BKqbgNDqEeGDO5enlLFiYg" name="InstructionsTemplateId" constrainedElement="_8HjgULe2EeGy6IHu0WFTyQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKqbgdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.templateId->exists(id : datatypes::II | id.root = '111.222.333.444.222.1')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKs3wNDqEeGDO5enlLFiYg" name="ReminderText" constrainedElement="_8HjgULe2EeGy6IHu0WFTyQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKs3wdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.text.oclIsUndefined() or self.text.isNullFlavorUndefined()) implies (not self.text.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_8HjgUbe2EeGy6IHu0WFTyQ">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2G8h9RSVEeGGzu7fmW9pXw"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_AO4iELe3EeGy6IHu0WFTyQ" name="Instructions">
      <ownedRule xmi:id="_BKv7ENDqEeGDO5enlLFiYg" name="InstructionsTemplateId" constrainedElement="_AO4iELe3EeGy6IHu0WFTyQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKv7EdDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>self.templateId->exists(id : datatypes::II | id.root = '111.222.333.444.222.2')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_BKyXUNDqEeGDO5enlLFiYg" name="mtmInstructionsText" constrainedElement="_AO4iELe3EeGy6IHu0WFTyQ">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_BKy-YNDqEeGDO5enlLFiYg">
          <language>OCL</language>
          <body>(self.text.oclIsUndefined() or self.text.isNullFlavorUndefined()) implies (not self.text.oclIsUndefined())</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_AO4iEbe3EeGy6IHu0WFTyQ">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.consol/model/consol_Ecore.uml#_2G8h9RSVEeGGzu7fmW9pXw"/>
      </generalization>
    </packagedElement>
    <profileApplication xmi:id="_0j1PQUavEeGFfbgNCOW4yA">
      <eAnnotations xmi:id="_0j1PQkavEeGFfbgNCOW4yA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UML_PROFILES/Standard.profile.uml#_yzU58YinEdqtvbnfB2L_5w"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UML_PROFILES/Standard.profile.uml#_0"/>
    </profileApplication>
    <profileApplication xmi:id="_0j1PQ0avEeGFfbgNCOW4yA">
      <eAnnotations xmi:id="_0j1PREavEeGFfbgNCOW4yA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="http://www.openhealthtools.org/mdht/schemas/cda/4#/"/>
      </eAnnotations>
      <appliedProfile href="pathmap://CDA_PROFILES/CDA.profile.uml#_cxOJEIEVEd6H8o-hO3-B4Q"/>
    </profileApplication>
    <profileApplication xmi:id="_BIssoNDqEeGDO5enlLFiYg">
      <eAnnotations xmi:id="_BItTsNDqEeGDO5enlLFiYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UML_PROFILES/Ecore.profile.uml#_z1OFcHjqEdy8S4Cr8Rc_NA"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UML_PROFILES/Ecore.profile.uml#_0"/>
    </profileApplication>
  </uml:Package>
  <CDA:CodegenSupport xmi:id="_0naHsEavEeGFfbgNCOW4yA" basePackage="org.openhealthtools.mdht.uml.cda" nsPrefix="mtm" nsURI="http://www.openhealthtools.org/mdht/uml/cda/mtm" packageName="mtm" prefix="mtm" base_Namespace="_0j1PQEavEeGFfbgNCOW4yA"/>
  <CDA:CDATemplate xmi:id="_0naHskavEeGFfbgNCOW4yA" base_Class="_0naHsUavEeGFfbgNCOW4yA" templateId="111.222.333.444.111" assigningAuthorityName=""/>
  <CDA:ConformsTo xmi:id="_ULvnMExNEeG1J9FcQHBzxA" base_Generalization="_yhfHUEwxEeGrDvEN9YqHUQ" requiresParentId="true"/>
  <CDA:CDATemplate xmi:id="_QqkUkExPEeG1J9FcQHBzxA" base_Class="_yhegQEwxEeGrDvEN9YqHUQ" templateId="111.222.333.444.222"/>
  <CDA:CDATemplate xmi:id="_RtE6cExPEeG1J9FcQHBzxA" base_Class="_AyXL8EwyEeGrDvEN9YqHUQ" templateId="111.222.333.444.333"/>
  <CDA:CDATemplate xmi:id="_S2kSEExPEeG1J9FcQHBzxA" base_Class="_8lBioExOEeG1J9FcQHBzxA" templateId="111.222.333.444.444"/>
  <CDA:PropertyValidation xmi:id="_e4ORYamqEeGfEcsleERUhA"/>
  <CDA:CDATemplate xmi:id="_HWYs0KmsEeGfEcsleERUhA" base_Class="_YxKzkKmqEeGfEcsleERUhA" templateId="111.222.333.444.555" assigningAuthorityName="MDHT"/>
  <CDA:CDATemplate xmi:id="_IiD1wKmsEeGfEcsleERUhA" base_Class="_dcDOUKmqEeGfEcsleERUhA" templateId="111.222.333.444.666"/>
  <CDA:CDATemplate xmi:id="_E2U-oLl1EeG9KtLyBDnukg" base_Class="_8HjgULe2EeGy6IHu0WFTyQ" templateId="111.222.333.444.222.1" assigningAuthorityName="MDHT"/>
  <CDA:CDATemplate xmi:id="_QMlFMLl1EeG9KtLyBDnukg" base_Class="_AO4iELe3EeGy6IHu0WFTyQ" templateId="111.222.333.444.222.2"/>
  <Ecore:EPackage xmi:id="_BIw-ENDqEeGDO5enlLFiYg" base_Package="_0j1PQEavEeGFfbgNCOW4yA" packageName="mtm" nsPrefix="mtm" nsURI="http://www.openhealthtools.org/mdht/uml/cda/mtm" basePackage="org.openhealthtools.mdht.uml.cda" prefix="mtm"/>
  <CDA:ConformsTo xmi:id="_BIxlINDqEeGDO5enlLFiYg" base_Generalization="_15elkEwrEeGrDvEN9YqHUQ"/>
  <Ecore:EClass xmi:id="_BIyzQNDqEeGDO5enlLFiYg" base_Class="_0naHsUavEeGFfbgNCOW4yA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='MedicationTherapyManagementProgramTemplateId MedicationTherapyManagementProgramAllergiesSection MedicationTherapyManagementProgramPersonalMedicationListSection MedicationTherapyManagementProgramMedicationActionPlan' templateId.root='111.222.333.444.111' constraints.validation.info='MedicationTherapyManagementProgramOtherInformationSection'</annotation>
  </Ecore:EClass>
  <Ecore:EClass xmi:id="_BI5g8NDqEeGDO5enlLFiYg" base_Class="_yhegQEwxEeGrDvEN9YqHUQ">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='mtmMedicationActivityTemplateId mtmMedicationActivityPresciber mtmMedicationActivityIndicationEntryRelationship mtmMedicationActivityInstructionsEntryRelationship MedicationActivityPrescriberAssignedPresciberAssignedPerson MedicationActivityPrescriberTemplateId MedicationActivityPrescriberTypeCode MedicationActivityPrescriberAssignedAuthor MedicationActivityIndicationEntryRelationshipTypeCode MedicationActivityIndicationEntryRelationshipIndication MedicationActivityStopReasonEntryRelationshipStopReasonClassCode MedicationActivityStopReasonEntryRelationshipStopReasonNegationInd MedicationActivityStopReasonEntryRelationshipTypeCode MedicationActivityReminderEntryRelationshipTypeCode MedicationActivityReminderEntryRelationshipReminder MedicationActivityInstructionEntryRelationshipTypeCode MedicationActivityInstructionEntryRelationshipInstructions MedicationActivityGoalsEntryRelationshipMedicationActionPlanGoal' templateId.root='111.222.333.444.222' constraints.validation.info='mtmMedicationActivityText mtmMedicationActivityStopReasonEntryRelationship mtmMedicationActivityReminderEntryRelationship' constraints.validation.warning='mtmMedicationActivityGoalsEntryRelationship MedicationActivityPrescriberAssignedPresciberPersonName' constraints.validation.query='MedicationActivityPrescriberAssignedPresciberPersonName MedicationActivityPrescriberAssignedPresciberAssignedPerson MedicationActivityPrescriberTemplateId MedicationActivityPrescriberTypeCode MedicationActivityPrescriberAssignedAuthor MedicationActivityIndicationEntryRelationshipTypeCode MedicationActivityIndicationEntryRelationshipIndication MedicationActivityStopReasonEntryRelationshipStopReasonClassCode MedicationActivityStopReasonEntryRelationshipStopReasonNegationInd MedicationActivityStopReasonEntryRelationshipTypeCode MedicationActivityReminderEntryRelationshipTypeCode MedicationActivityReminderEntryRelationshipReminder MedicationActivityInstructionEntryRelationshipTypeCode MedicationActivityInstructionEntryRelationshipInstructions MedicationActivityGoalsEntryRelationshipMedicationActionPlanGoal'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityPrescriber constraints.validation.error='PrescriberTemplateId PrescriberTypeCode PrescriberAssignedAuthor' templateId.root='null' typeCode='AUT'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityPrescriberAssignedPresciber constraints.validation.error='AssignedPresciberAssignedPerson'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityPrescriberAssignedPresciberPerson constraints.validation.warning='PersonName'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityIndicationEntryRelationship typeCode='RSON' constraints.validation.error='IndicationEntryRelationshipTypeCode IndicationEntryRelationshipIndication'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityStopReasonEntryRelationship typeCode='RSON' constraints.validation.error='StopReasonEntryRelationshipTypeCode'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityStopReasonEntryRelationshipStopReason classCode='ACT' constraints.validation.error='StopReasonClassCode StopReasonNegationInd' moodCode='EVN' negationInd='true'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityReminderEntryRelationship typeCode='SPRT' constraints.validation.error='ReminderEntryRelationshipTypeCode ReminderEntryRelationshipReminder'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityInstructionEntryRelationship typeCode='SUBJ' constraints.validation.error='InstructionEntryRelationshipTypeCode InstructionEntryRelationshipInstructions'</annotation>
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation/mtmMedicationActivityGoalsEntryRelationship constraints.validation.error='GoalsEntryRelationshipMedicationActionPlanGoal'</annotation>
  </Ecore:EClass>
  <CDA:ConformsTo xmi:id="_BJTwoNDqEeGDO5enlLFiYg" base_Generalization="_AyXzAEwyEeGrDvEN9YqHUQ"/>
  <Ecore:EClass xmi:id="_BJVl0NDqEeGDO5enlLFiYg" base_Class="_AyXL8EwyEeGrDvEN9YqHUQ">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='PersonalMedicationListSectionTemplateId PersonalMedicationListSectionMedication' templateId.root='111.222.333.444.333'</annotation>
  </Ecore:EClass>
  <Ecore:EClass xmi:id="_BJbFYNDqEeGDO5enlLFiYg" base_Class="_8lBioExOEeG1J9FcQHBzxA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='OtherInformationSectionTemplateId OtherInformationSectionText OtherInformationSectionTitle' templateId.root='111.222.333.444.444'</annotation>
  </Ecore:EClass>
  <CDA:ConformsTo xmi:id="_BJjBMNDqEeGDO5enlLFiYg" base_Generalization="_YxLaoKmqEeGfEcsleERUhA"/>
  <Ecore:EClass xmi:id="_BJkPUNDqEeGDO5enlLFiYg" base_Class="_YxKzkKmqEeGfEcsleERUhA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='MedicationActionPlanSectionTemplateId MedicationActionPlanSectionTitle MedicationActionPlanSectionMedicationActionPlanEncounter' templateId.root='111.222.333.444.555'</annotation>
  </Ecore:EClass>
  <CDA:ConformsTo xmi:id="_BJmrkNDqEeGDO5enlLFiYg" base_Generalization="_dcD1YKmqEeGfEcsleERUhA"/>
  <Ecore:EClass xmi:id="_BJn5sNDqEeGDO5enlLFiYg" base_Class="_dcDOUKmqEeGfEcsleERUhA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='MedicationActionPlanActivityTemplateId PlanOfCareActivityActMoodCode MedicationActionPlanActivityText MedicationActionPlanActivityCode' templateId.root='111.222.333.444.666' moodCode='INT' code.codeSystem='2.16.840.1.113883.6.96' code.codeSystemName='SNOMEDCT' constraints.validation.warning='MedicationActionPlanActivityCodeP' constraints.validation.dependOn.MedicationActionPlanActivityCode='MedicationActionPlanActivityCodeP'</annotation>
  </Ecore:EClass>
  <Ecore:EClass xmi:id="_BJ8CwNDqEeGDO5enlLFiYg" base_Class="_0AARgKmsEeGfEcsleERUhA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='MedicationActionPlanEncounterEffectiveTime MedicationActionPlanEncounterText MedicationActionPlanEncounterCode MedicationActionPlanEncounterMedicationActionPlanActivity' code.codeSystem='2.16.840.1.113883.6.96' code.codeSystemName='SNOMEDCT' constraints.validation.warning='MedicationActionPlanEncounterCodeP' constraints.validation.info='MedicationActionPlanEncounterMedicationActionPlanObservation'</annotation>
  </Ecore:EClass>
  <Ecore:EClass xmi:id="_BKLTUNDqEeGDO5enlLFiYg" base_Class="_63TrEKmtEeGfEcsleERUhA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='MedicationActionPlanObservationText' constraints.validation.info='MedicationActionPlanObservationEffectiveTime'</annotation>
  </Ecore:EClass>
  <Ecore:EClass xmi:id="_BKNvkNDqEeGDO5enlLFiYg" base_Class="_pQo5MLb8EeGErMgL9zVrTA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation moodCode='GOL' constraints.validation.error='PlanOfCareActivityObservationMoodCode MedicationActionPlanGoalMoodCode MedicationActionPlanGoalText'</annotation>
  </Ecore:EClass>
  <CDA:ConformsTo xmi:id="_BKp0cNDqEeGDO5enlLFiYg" base_Generalization="_8HjgUbe2EeGy6IHu0WFTyQ"/>
  <Ecore:EClass xmi:id="_BKrCkNDqEeGDO5enlLFiYg" base_Class="_8HjgULe2EeGy6IHu0WFTyQ">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='ReminderTemplateId ReminderText' templateId.root='111.222.333.444.222.1'</annotation>
  </Ecore:EClass>
  <CDA:ConformsTo xmi:id="_BKvUANDqEeGDO5enlLFiYg" base_Generalization="_AO4iEbe3EeGy6IHu0WFTyQ"/>
  <Ecore:EClass xmi:id="_BKwiINDqEeGDO5enlLFiYg" base_Class="_AO4iELe3EeGy6IHu0WFTyQ">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation constraints.validation.error='mtmInstructionsTemplateId mtmInstructionsText' templateId.root='111.222.333.444.222.2'</annotation>
  </Ecore:EClass>
</xmi:XMI>
